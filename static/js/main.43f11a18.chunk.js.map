{"version":3,"sources":["components/charts/MultiAxisLine.jsx","components/charts/StatCharts.jsx","components/charts/VerticalBar.jsx","components/charts/LineChart.jsx","components/charts/EventCharts.jsx","components/charts/Charts.jsx","components/map/PoiMap.jsx","components/map/MapMain.jsx","components/tables/EventTable.jsx","components/tables/StatTable.jsx","components/tables/MainTable.jsx","components/AlertBootStrap.jsx","components/Home.jsx","App.js","reportWebVitals.js","index.js"],"names":["MultiAxisLine","props","useState","min","date","onChangeDate","data","labels","datasets","label","map","x","impressions","fill","backgroundColor","borderColor","yAxisID","clicks","revenue","className","Row","Col","title","hourly","style","textAlign","type","onChange","e","val","target","value","repopulateRecall","max","options","scales","yAxes","display","position","id","gridLines","drawOnArea","width","height","StatCharts","statDataDaily","setStatDaily","statDataHourly","setStatHourly","reformattedHourly","setReformattedHourly","minday","setMinDay","maxday","setMaxDay","useEffect","statDaily","length","temp","statHourly","dataByDate","key","reduce","rv","push","listOfDate","Object","keys","Container","fluid","Spinner","animation","variant","hour","res","count","i","events","filledByDate","VerticalBar","timeVar","setVarTime","time","setTime","borderWidth","daily","DropdownButton","index","Dropdown","Item","as","onSelect","parseInt","slice","ticks","beginAtZero","LineChart","mappingByHour","forEach","element","EventCharts","eventDataDaily","setEventDaily","eventDataHourly","setEventHourly","weeklyAvg","setWeeklyAvg","dayWithMax","setDayWithMax","eventDataByTime","setDataByTime","eventDaily","avg","a","b","toFixed","prev","current","eventHourly","sm","lg","xl","Charts","Tabs","defaultActiveKey","Tab","eventKey","PoiMap","latitude","longitude","zoom","viewport","setViewport","mapRef","useRef","points","elem","properties","cluster","elemId","poi_id","name","geometry","coordinates","parseFloat","lon","lat","bounds","getMap","getBounds","toArray","flat","useSupercluster","radius","maxZoom","clusters","supercluster","mapboxApiAccessToken","process","onViewportChange","newViewport","ref","isCluster","pointCount","point_count","onClick","expansionZoom","Math","getClusterExpansionZoom","transitionInterpolator","FlyToInterpolator","speed","transitionDuration","viewBox","xmlns","y","rx","d","cx","cy","r","MapMain","poiData","setPoiData","paginationData","pageIndex","active","recall","inc","Pagination","Prev","Next","Ellipsis","EventTable","setPageIndex","setData","curPage","setCurPage","indexData","floor","populatePages","pagesLength","splice","chunkageData","page","Table","striped","bordered","hover","responsive","curPoi","StatTable","mappingHourlyData","isCaseSensitive","includeScore","shouldSort","includeMatches","findAllMatches","minMatchCharLength","location","threshold","distance","useExtendedSearch","ignoreLocation","ignoreFieldNorm","MainTable","searchPattern","setSearchPattern","Fuse","fuse","setFuse","searched","setSearched","dailyEventCurPoi","setEventDailyPoi","eventCurPoi","setEventCurPoi","setCurPoi","dailyStatCurPoi","setStatDailyPoi","statCurPoi","setStatCurPoi","statminday","setstatMinDay","statmaxday","setstatMaxDay","reformattedEventHourly","setReformattedEventHourly","reformattedStatHourly","setReformattedStatHourly","Toggle","FormControl","placeholder","aria-label","aria-describedby","search","Menu","item","AlertBootStrap","Alert","onClose","setShow","dismissible","Heading","Home","withRouter","setStatDataHourly","setStatDataDaily","setEventDataHourly","setEventDataDaily","statDataHourlyTab","setStatDataHourlyTab","statDataDailyTab","setStatDataDailyTab","eventDataHourlyTab","setEventDataHourlyTab","eventDataDailyTab","setEventDataDailyTab","show","selectedKey","setSelectedKey","baseAPI","axios","get","then","err","console","error","log","loadAPI","skey","md","Nav","Link","xs","justify","Content","Pane","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.43f11a18.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { Line } from '@reactchartjs/react-chart.js'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\nexport default function MultiAxisLine(props) {\n    const [date, onChangeDate] = useState(props.min);\n    const dateSelector = (val) => {\n        onChangeDate(val);\n        props.repopulateRecall(val)\n    }\n    const data = {\n        labels: props.labels,\n        datasets: [\n            {\n                label: '# Impression',\n                data: props.data.map(x => x.impressions),\n                fill: false,\n                backgroundColor: 'rgb(255, 99, 132)',\n                borderColor: 'rgba(255, 99, 132, 0.2)',\n                yAxisID: 'y-axis-1',\n            },\n            {\n                label: '# Clicks',\n                data: props.data.map(x => x.clicks),\n                fill: false,\n                backgroundColor: 'rgb(54, 162, 235)',\n                borderColor: 'rgba(54, 162, 235, 0.2)',\n                yAxisID: 'y-axis-2',\n            },\n            {\n                label: 'Revenue',\n                data: props.data.map(x => x.revenue),\n                fill: false,\n                backgroundColor: 'rgba(255, 200, 0, 1)',\n                borderColor: 'rgba(255, 200, 0, 0.4)',\n                yAxisID: 'y-axis-3',\n            },\n        ],\n    }\n\n    const options = {\n        scales: {\n            yAxes: [\n                {\n                    type: 'linear',\n                    display: true,\n                    position: 'left',\n                    id: 'y-axis-1',\n                },\n                {\n                    type: 'linear',\n                    display: true,\n                    position: 'right',\n                    id: 'y-axis-2',\n                },\n                {\n                    type: 'linear',\n                    display: true,\n                    position: 'right',\n                    id: 'y-axis-3',\n                    gridLines: {\n                        drawOnArea: false,\n                    },\n                },\n            ],\n        },\n    }\n\n    return (\n        <div className=\"chart-wrapper\">\n            <div className='header'>\n                <Row>\n                    <Col>\n                        <h3 className='title'>{props.title || null}</h3>\n                    </Col>\n                    {props.hourly ?\n                        <Col style={{ textAlign: 'right' }}>\n                            <input type=\"date\"\n                                onChange={(e) => dateSelector(e.target.value)}\n                                value={date}\n                                min={props.min}\n                                max={props.max} />\n                        </Col>\n                        : null}\n                </Row>\n            </div>\n            <Line data={data} options={options} width={\"100vw\"} height={\"70\"} />\n        </div>\n    )\n}\n","import React, { useState, useEffect } from 'react'\nimport MultiAxisLine from './MultiAxisLine'\nimport Spinner from 'react-bootstrap/Spinner'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\nimport Container from 'react-bootstrap/Container'\n\nfunction filledByDate(data) {\n    var res = []\n    var date = data[0].date\n    var count = 0;\n    for (var i = 0; i < 25; i++) {\n        if (count < data.length) {\n            if (data[count].hour !== i) {\n                res.push({\n                    date: date,\n                    events: 0,\n                    hour: i\n                })\n            } else {\n                res.push(data[count])\n                count++;\n            }\n        } else {\n            res.push({\n                date: date,\n                events: 0,\n                hour: i\n            })\n        }\n\n    }\n    return res\n}\n\nfunction mappingHourlyData(data, key) {\n    return data.reduce(function (rv, x) {\n        (rv[x[key]] = rv[x[key]] || []).push(x);\n        return rv;\n    }, {})\n}\nexport default function StatCharts(props) {\n    const [statDataDaily, setStatDaily] = useState(null);\n    const [statDataHourly, setStatHourly] = useState(null);\n    const [reformattedHourly, setReformattedHourly] = useState(null);\n    const [minday, setMinDay] = useState(null);\n    const [maxday, setMaxDay] = useState(null);\n\n    const repopulateDateData = (key) => {\n        setStatHourly(filledByDate(reformattedHourly[key]))\n    }\n   \n    useEffect(() => {\n        if (props.statDaily && props.statDaily.length > 0) {\n            const temp = props.statDaily;\n            setMinDay(temp[0].date)\n            setMaxDay(temp[temp.length - 1].date)\n            setStatDaily(temp)\n        }\n\n        if (props.statHourly && props.statHourly.length > 0) {\n            const temp = props.statHourly;\n            const dataByDate = mappingHourlyData(temp, \"date\");\n            const listOfDate = Object.keys(dataByDate)\n            setReformattedHourly(dataByDate)\n            setStatHourly(dataByDate[listOfDate[0]])\n        }\n    }, [props.statDaily, props.statHourly ])\n    return (\n        <Container fluid>\n            <br />\n            <Col>\n                <Row>\n                    {statDataDaily ? <MultiAxisLine data={statDataDaily} title={\"Daily Statistic data\"} labels={statDataDaily.map(x => x.date)} /> : <Spinner animation=\"border\" variant=\"info\" />}\n                </Row>\n                <br />\n                <Row>\n                    {statDataHourly ? <MultiAxisLine data={statDataHourly} title={\"Hourly Statistic data\"} hourly min={minday} max={maxday} labels={statDataHourly.map(x => x.hour)} repopulateRecall={repopulateDateData} /> : <Spinner animation=\"border\" variant=\"info\" />}\n                </Row>\n            </Col>\n        </Container>\n    )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Bar } from '@reactchartjs/react-chart.js'\n\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\n\n\nexport default function VerticalBar(props) {\n    const [timeVar, setVarTime] = useState([]);\n    const [date, onChangeDate] = useState(props.min);\n    const [time,setTime] = useState(\"00:00\");\n\n    const timeSelector = (value) => {\n        setTime(value);\n        props.repopulateRecall(parseInt(value.slice(0,2)))\n    }\n    const dateSelector = (val) => {\n        onChangeDate(val);\n        props.repopulateRecall(val)\n    }\n    const data = {\n        labels: props.labels,\n        datasets: [\n            {\n                label: '# of Events/hourly',\n                data: props.data,\n                backgroundColor: 'rgba(255, 99, 132, 0.2)',\n                borderColor: 'rgba(255, 99, 132, 1)',\n                borderWidth: 1,\n            },\n        ],\n    }\n    useEffect(() => {\n        if (props.hourly) {\n            var temp = []\n            for (var i = 0; i < 25; i++) {\n                if (i < 10) temp.push(`0${i}:00`)\n                else temp.push(`${i}:00`)\n            }\n            setVarTime(temp)\n        }\n    }, [props.hourly])\n\n\n\n    const options = {\n        scales: {\n            yAxes: [\n                {\n                    ticks: {\n                        beginAtZero: true,\n                    },\n                },\n            ],\n        },\n    }\n    return (\n        <div className=\"chart-wrapper\">\n            <div className='header'>\n                <Row>\n                    <Col>\n                        <h3 className='title'>{props.title || null}</h3>\n                    </Col>\n                    {props.daily ?\n                        <Col style={{ textAlign: 'right' }}>\n                            <input type=\"date\"\n                                onChange={(e)=>dateSelector(e.target.value)}\n                                value={date}\n                                min={props.min}\n                                max={props.max}/>\n                        </Col>\n                        : null}\n                    {props.hourly ?\n                        <Col style={{ textAlign: 'right' }}>\n                            <DropdownButton id=\"dropdown-item-button\" title={time}>\n                                {timeVar.length > 0 ? timeVar.map((x, index) => <Dropdown.Item key={index} as=\"button\" onSelect={()=> timeSelector(x) }>{x}</Dropdown.Item>) : null}\n                            </DropdownButton>\n                        </Col>\n                        : null}\n                </Row>\n            </div>\n            <Bar data={data} options={options} width={\"100vw\"} height={\"40vh\"} />\n        </div>\n    )\n}\n\n","import React, {useState} from 'react'\nimport { Line } from '@reactchartjs/react-chart.js'\n\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\n\nexport default function LineChart(props) {\n    const [date, onChangeDate] = useState(props.min);\n    const dateSelector = (val) => {\n        onChangeDate(val);\n        props.repopulateRecall(val)\n    }\n    const data = {\n        labels: props.labels,\n        datasets: [\n            {\n                label: '# of Events/hourly',\n                data: props.data,\n                fill: false,\n                backgroundColor: 'rgb(255, 99, 132)',\n                borderColor: 'rgba(255, 99, 132, 0.2)',\n            },\n        ],\n    }\n\n\n    const options = {\n        scales: {\n            yAxes: [\n                {\n                    ticks: {\n                        beginAtZero: true,\n                    },\n                },\n            ],\n        },\n    }\n    return (\n        <div className=\"chart-wrapper\">\n            <div className='header'>\n                <Row>\n                    <Col>\n                        <h3 className='title'>{props.title || null}</h3>\n                    </Col>\n                    {props.daily ?\n                        <Col style={{ textAlign: 'right' }}>\n                            <input type=\"date\"\n                                onChange={(e) => dateSelector(e.target.value)}\n                                value={date}\n                                min={props.min}\n                                max={props.max} />\n                        </Col>\n                        : null}\n                </Row>\n            </div>\n            <Line data={data} options={options} width={\"100vw\"} height={\"40vh\"} />\n        </div>\n    )\n}\n","import React, { useEffect, useState } from 'react'\nimport VerticalBar from './VerticalBar'\nimport LineChart from './LineChart'\nimport Spinner from 'react-bootstrap/Spinner'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\nimport Container from 'react-bootstrap/Container'\n\nfunction mappingHourlyData(data, key) {\n    return data.reduce(function (rv, x) {\n        (rv[x[key]] = rv[x[key]] || []).push(x);\n        return rv;\n    }, {})\n}\n\nfunction mappingByHour(data, hour) {\n    var res = []\n    for (var key in data) {\n        data[key].forEach(element => {\n            if (element.hour === hour) res.push(element)\n        });\n    }\n    return res\n}\n\nfunction filledByDate(data) {\n    var res = []\n    var date = data[0].date\n    var count = 0;\n    for (var i = 0; i < 24; i++) {\n        if (count < data.length) {\n            if (data[count].hour !== i) {\n                res.push({\n                    date: date,\n                    events: 0,\n                    hour: i\n                })\n            } else {\n                res.push(data[count])\n                count++;\n            }\n        } else {\n            res.push({\n                date: date,\n                events: 0,\n                hour: i\n            })\n        }\n\n    }\n    return res\n}\n\nexport default function EventCharts(props) {\n    const [eventDataDaily, setEventDaily] = useState(null);\n    const [eventDataHourly, setEventHourly] = useState(null);\n    const [weeklyAvg, setWeeklyAvg] = useState(0);\n    const [dayWithMax, setDayWithMax] = useState(null);\n    const [eventDataByTime, setDataByTime] = useState(null);\n    const [reformattedHourly, setReformattedHourly] = useState(null);\n    const [minday, setMinDay] = useState(null);\n    const [maxday, setMaxDay] = useState(null);\n    useEffect(() => {\n        if (props.eventDaily && props.eventDaily.length > 0) {\n            const temp = props.eventDaily;\n            setMinDay(temp[0].date)\n            setMaxDay(temp[temp.length - 1].date)\n            setEventDaily(temp)\n            var avg = temp.map(x => x.events).reduce((a, b) => parseInt(a) + parseInt(b), 0);\n            setWeeklyAvg((avg / 7).toFixed(2));\n            const max = temp.reduce(function (prev, current) {\n                return (prev.events > current.events) ? prev : current\n            })\n            setDayWithMax(max)\n        }\n\n        if (props.eventHourly && props.eventHourly.length > 0) {\n            const temp = props.eventHourly;\n            const dataByDate = mappingHourlyData(temp, \"date\");\n            const listOfDate = Object.keys(dataByDate)\n            setReformattedHourly(dataByDate)\n            setEventHourly(filledByDate(dataByDate[listOfDate[0]]));\n            setDataByTime(mappingByHour(dataByDate, 0))\n        }\n    }, [props.eventDaily, props.eventHourly])\n\n    const repopulateData = (value) => {\n        setDataByTime(mappingByHour(reformattedHourly, value))\n    }\n\n    const repopulateDateData = (key) => {\n        setEventHourly(filledByDate(reformattedHourly[key]))\n    }\n\n    return (\n        <Container fluid>\n            <br />\n            <Col sm={12}>\n                <Row>\n                    <Col lg={12} xl={6}>\n                        <div className=\"chart-wrapper\">\n                            <Col>\n                                <Row><Col className=\"additional-data\">Average events:</Col><Col>{weeklyAvg}</Col></Row>\n                                <Row><Col>(Per week) </Col> </Row>\n                            </Col>\n                        </div>\n                    </Col>\n                    <Col lg={12} xl={6}>\n                        <div className=\"chart-wrapper\">\n                            {dayWithMax ?\n                                <>\n                                    <Col>\n                                        <Row><Col className=\"additional-data\">Most popular day:</Col> <Col>{dayWithMax.date ? dayWithMax.date : null}</Col></Row>\n                                        <Row><Col className=\"additional-data\">Events: </Col> <Col>{dayWithMax.events ? dayWithMax.events : null}</Col></Row>\n                                    </Col>\n                                </> : null}\n                        </div>\n                    </Col>\n\n                </Row>\n                <br />\n                <Row sm={12}>\n                    <Col>{eventDataByTime ? <VerticalBar data={eventDataByTime.map(x => x.events)} labels={eventDataByTime.map(x => x.date)} title={\"Events data comparing by hours\"} repopulateRecall={repopulateData} hourly /> : <Spinner animation=\"border\" variant=\"info\" />}</Col>\n                </Row>\n                <br />\n                <Row sm={12}>\n                    <Col>{eventDataHourly ? <LineChart data={eventDataHourly.map(x => x.events)} labels={eventDataHourly.map(x => x.hour)} title={\"Hourly events data\"} repopulateRecall={repopulateDateData} min={minday} max={maxday} daily /> : <Spinner animation=\"border\" variant=\"info\" />}</Col>\n                </Row>\n                <br />\n                <Row sm={12}>\n                    <Col>{eventDataDaily ? <VerticalBar data={eventDataDaily.map(x => x.events)} labels={eventDataDaily.map(x => x.date)} title={\"Daily events data\"} /> : <Spinner animation=\"border\" variant=\"info\" />}</Col>\n                </Row>\n            </Col>\n        </Container>\n    )\n}\n","import React from 'react'\nimport StatCharts from './StatCharts'\nimport EventCharts from './EventCharts'\nimport Spinner from 'react-bootstrap/Spinner'\nimport Container from 'react-bootstrap/Container'\nimport Tab from 'react-bootstrap/Tab'\nimport Tabs from 'react-bootstrap/Tabs'\n\nexport default function Charts(props) {\n\n    return (\n        <Container fluid>\n            <br/>\n            <Tabs fill variant=\"pills\" defaultActiveKey=\"event\" id=\"uncontrolled-tab-example\" className = \"navigate\">\n                <Tab eventKey=\"event\" title=\"Events\" >\n                    {props.eventDaily && props.eventHourly?<EventCharts eventDaily={props.eventDaily} eventHourly={props.eventHourly}/>: <Spinner animation=\"border\" variant=\"info\" />}\n                </Tab>\n                <Tab eventKey=\"stat\" title=\"Statistic\">\n                    {props.statDaily && props.statHourly?<StatCharts statDaily={props.statDaily} statHourly={props.statHourly} />: <Spinner animation=\"border\" variant=\"info\" />}\n                </Tab>\n            </Tabs>\n        </Container>\n    )\n}\n","import React, { useState, useRef } from 'react'\nimport useSwr from \"swr\";\nimport ReactMapGL, { Marker, FlyToInterpolator } from 'react-map-gl';\nimport useSupercluster from \"use-supercluster\";\nimport Container from 'react-bootstrap/Container'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nexport default function PoiMap(props) {\n  const [viewport, setViewport] = useState({\n    latitude: 48.2270,\n    longitude: -80.3809,\n    width: \"100%\",\n    height: \"95vh\",\n    zoom: 3\n  });\n  const mapRef = useRef();\n\n  const points = props.data && props.data.length > 0? props.data.map(elem => ({\n    type: \"Feature\",\n    properties: { cluster: false, elemId: elem.poi_id, name: elem.name },\n    geometry: {\n      type: \"Point\",\n      coordinates: [\n        parseFloat(elem.lon),\n        parseFloat(elem.lat)\n      ]\n    }\n  })): [];\n  const bounds = mapRef.current && mapRef.current.getMap()\n    ? mapRef.current\n      .getMap()\n      .getBounds()\n      .toArray()\n      .flat()\n    : null;\n\n  const { clusters, supercluster } = useSupercluster({\n    points,\n    bounds,\n    zoom: viewport.zoom,\n    options: { radius: 75, maxZoom: 20 }\n  });\n\n  return (\n    <Container fluid className = \"map-wrapper\">\n      <ReactMapGL\n        {...viewport}\n        maxZoom={20}\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n        onViewportChange={newViewport => {\n          setViewport({ ...newViewport });\n        }}\n        ref={mapRef}\n      >\n        {clusters.map(cluster => {\n          const [longitude, latitude] = cluster.geometry.coordinates;\n          const {\n            cluster: isCluster,\n            point_count: pointCount\n          } = cluster.properties;\n\n          if (isCluster) {\n            return (\n              <Marker\n                key={`cluster-${cluster.id}`}\n                latitude={latitude}\n                longitude={longitude}\n              >\n                <div\n                  className=\"cluster-marker\"\n                  style={{\n                    width: `${10 + (pointCount / points.length) * 20}px`,\n                    height: `${10 + (pointCount / points.length) * 20}px`\n                  }}\n                  onClick={() => {\n                    const expansionZoom = Math.min(\n                      supercluster.getClusterExpansionZoom(cluster.id),\n                      20\n                    );\n\n                    setViewport({\n                      ...viewport,\n                      latitude,\n                      longitude,\n                      zoom: expansionZoom,\n                      transitionInterpolator: new FlyToInterpolator({\n                        speed: 2\n                      }),\n                      transitionDuration: \"auto\"\n                    });\n                  }}\n                >\n                  {pointCount}\n                </div>\n              </Marker>\n            );\n          }\n\n          return (\n            <Marker\n              key={`crime-${cluster.properties.elemId}`}\n              latitude={latitude}\n              longitude={longitude}\n            >\n              <button className=\"poi-marker\">\n                <svg width=\"30\" height=\"46\" viewBox=\"0 0 30 46\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <rect y=\"0.804443\" width=\"30\" height=\"36.6791\" rx=\"11\" fill=\"#D6186D\" />\n                  <path d=\"M15.0178 46L18.9747 37.2808H11.0609L15.0178 46Z\" fill=\"#D6186D\" />\n                  <circle cx=\"15.0001\" cy=\"27.0892\" r=\"3.54749\" fill=\"white\" />\n                  <rect x=\"11.7876\" y=\"7.7876\" width=\"6.42458\" height=\"12.2346\" fill=\"white\" />\n                </svg>\n              </button>\n              {cluster.properties.name}\n            </Marker>\n          );\n        })}\n      </ReactMapGL>\n    </Container>\n  );\n}","import React, { useState, useEffect } from 'react'\nimport PoiMap from './PoiMap'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Container from 'react-bootstrap/Container'\nimport Spinner from 'react-bootstrap/Spinner'\n\nexport default function MapMain(props) {\n\n    const [poiData, setPoiData] = useState(null)\n\n    useEffect(() => {\n        setPoiData(props.poiData || []);\n    }, [props.poiData])\n\n    return (\n        <Container fluid>\n            <br />\n            <Row>\n                <Col>\n                    <Row>\n                        { poiData && poiData.length > 0 ? <PoiMap data={poiData} /> : <Spinner animation=\"border\" variant=\"info\" />}\n                    </Row>\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n","import React, { useState, useEffect } from 'react'\nimport Table from 'react-bootstrap/Table'\n\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Pagination from 'react-bootstrap/Pagination'\n\n\nconst pageLimit = 10;\nfunction populatePages(data) {\n    const length = data && data.length ? Math.floor(data.length / pageLimit) + 1 : 0;\n    var res = []\n    for (var i = 0; i < length; i++) {\n        res.push(i)\n    }\n    return res\n}\n\nfunction chunkageData(data, pagesLength) {\n    var res = [];\n    for (var i = 0; i < pagesLength; i++) {\n        res.push(data.splice(0, pageLimit))\n    }\n    return res\n}\n\nfunction paginationData(pageIndex, active, recall, inc) {\n    if (pageIndex.length > 0) {\n        if (pageIndex.length <= 6) {\n            return (<Pagination>\n                <Pagination.Prev onClick={() => inc(-1)} />\n                {pageIndex.length > 0 ? pageIndex.map((x,index) => <Pagination.Item key={index} active={active === x ? true : false} onClick={() => recall(x)}>{x + 1}</Pagination.Item>) : null}\n                <Pagination.Next onClick={() => inc(1)} />\n            </Pagination>)\n        }\n        return (<Pagination>\n            <Pagination.Prev onClick={() => inc(-1)} />\n            {active > 0 && active < pageIndex.length - 3 ? <Pagination.Ellipsis /> : null}\n            {pageIndex.length > 0 && active < pageIndex.length - 3 ? pageIndex.slice(active, active + 3).map((x,index) => <Pagination.Item key={index} active={active === x ? true : false} onClick={() => recall(x)}>{x + 1}</Pagination.Item>) : null}\n            <Pagination.Ellipsis />\n            {pageIndex.length > 0 ? pageIndex.slice(pageIndex.length - 3, pageIndex.length).map((x,index) => <Pagination.Item key={index} active={active === x ? true : false} onClick={() => recall(x)}>{x + 1}</Pagination.Item>) : null}\n            <Pagination.Next onClick={() => inc(1)} />\n        </Pagination>)\n    }\n    return (<Pagination>\n        <Pagination.Prev />\n        <Pagination.Item active>{1}</Pagination.Item>\n        <Pagination.Next />\n    </Pagination>)\n}\n\nexport default function EventTable(props) {\n    const [pageIndex, setPageIndex] = useState();\n    const [data, setData] = useState();\n    const [curPage, setCurPage] = useState(0);\n    const [date, onChangeDate] = useState(props.min);\n    const repopulateData = (page) => {\n        setCurPage(page)\n    }\n    const incrementPage = (val) => {\n        if (curPage < pageIndex[pageIndex.length - 1] && curPage > 0) setCurPage(prev => prev + val);\n        else if (curPage === pageIndex[pageIndex.length - 1] && val < 0) setCurPage(prev => prev + val);\n        else if (curPage === 0 && val > 0) setCurPage(prev => prev + val);\n    }\n    useEffect(() => {\n        var indexData = populatePages(props.data);\n        setPageIndex(indexData);\n        setData(chunkageData(props.data, indexData.length))\n    }, [props.data])\n\n    const dateSelector = (val) => {\n        onChangeDate(val);\n        props.repopulateRecall(val)\n    }\n    return (\n        <div className=\"chart-wrapper\">\n            <Row>\n                {props.title ? <Col>\n                    <h3>{props.title}</h3>\n                </Col> : null}\n                <Col style={{textAlign:\"right\"}}>\n                {props.hourly ? \n                    <input type=\"date\"\n                        onChange={(e) => dateSelector(e.target.value)}\n                        value={date}\n                        min={props.min}\n                        max={props.max} />\n                 : null}\n            </Col>\n            </Row>\n            <Row className=\"justify-content-md-center\">{pageIndex ? paginationData(pageIndex, curPage, repopulateData, incrementPage) : null}</Row>\n            <Table striped bordered hover responsive width={\"100%\"}>\n                <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>Name</th>\n                        <th>Events</th>\n                        {props.hourly ? <th>Hour</th> : null}\n                        <th>Date</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {data ? data[curPage].map((x, index) => <tr key={index} className={x.poi_id === props.curPoi ? \"with-data\" : \"\"}>\n                        <td>{index + 1}</td>\n                        <td>{x.name}</td>\n                        <td>{x.events}</td>\n                        {props.hourly ? <td>{x.hour}</td> : null}\n                        <td>{x.date}</td>\n                    </tr>) : null}\n                </tbody>\n            </Table>\n        </div>\n    )\n}\n","import React,{ useState, useEffect }  from 'react'\nimport Table from 'react-bootstrap/Table'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Pagination from 'react-bootstrap/Pagination'\n\nconst pageLimit = 10;\nfunction populatePages(data) {\n    const length = data && data.length ? Math.floor(data.length / pageLimit) + 1 : 0;\n    var res = []\n    for (var i = 0; i < length; i++) {\n        res.push(i)\n    }\n    return res\n}\n\nfunction chunkageData(data, pagesLength) {\n    var res = [];\n    for(var i = 0; i < pagesLength; i++){\n        res.push(data.splice(0,pageLimit))\n    }\n    return res\n}\n\nfunction paginationData(pageIndex, active, recall, inc) {\n    if(pageIndex.length > 0){\n        if(pageIndex.length <= 6){\n            return (<Pagination>\n                <Pagination.Prev onClick={()=>inc(-1)}/>\n                {pageIndex.length > 0 ? pageIndex.map((x,index) => <Pagination.Item key = {index} active={active === x?true:false} onClick={()=> recall(x)}>{x+1}</Pagination.Item>) : null}\n                <Pagination.Next onClick={()=>inc(1)}/>\n            </Pagination>)\n        }\n        return (<Pagination>\n            <Pagination.Prev onClick={()=>inc(-1)}/>\n            {active >0 && active < pageIndex.length-3? <Pagination.Ellipsis />:null}\n            {pageIndex.length > 0 && active < pageIndex.length-3 ? pageIndex.slice(active,active+3).map((x,index) => <Pagination.Item key = {index} active={active === x?true:false} onClick={()=> recall(x)}>{x+1}</Pagination.Item>) : null}\n            <Pagination.Ellipsis />\n            {pageIndex.length > 0 ? pageIndex.slice(pageIndex.length - 3,pageIndex.length).map((x,index) => <Pagination.Item key = {index} active={active === x?true:false} onClick={()=> recall(x)}>{x+1}</Pagination.Item>) : null}\n            <Pagination.Next onClick={()=>inc(1)}/>\n        </Pagination>)\n    }\n    return (<Pagination>\n        <Pagination.Prev />\n        <Pagination.Item active>{1}</Pagination.Item>\n        <Pagination.Next />\n    </Pagination>)\n}\n\nexport default function StatTable(props) {\n    const [pageIndex, setPageIndex] = useState();\n    const [data,setData] = useState();\n    const [curPage, setCurPage] = useState(0);\n    const [date, onChangeDate] = useState(props.min);    \n    const repopulateData = (page) => {\n        setCurPage(page)\n    }\n    const incrementPage = (val) => {\n        if(curPage < pageIndex[pageIndex.length-1] && curPage > 0) setCurPage(prev => prev + val);\n        else if(curPage === pageIndex[pageIndex.length-1] && val < 0) setCurPage(prev => prev + val);\n        else if(curPage === 0 && val > 0) setCurPage(prev => prev + val);\n    }\n    useEffect(() => {\n        var indexData = populatePages(props.data);\n        setPageIndex(indexData);\n        setData(chunkageData(props.data, indexData.length))\n    },[props.data])\n\n    const dateSelector = (val) => {\n        onChangeDate(val);\n        props.repopulateRecall(val)\n    }\n    return (\n        <div className = \"chart-wrapper\">\n            <Row>\n                {props.title ? <Col>\n                    <h3>{props.title}</h3>\n                </Col> : null}\n                <Col style={{textAlign:\"right\"}}>\n                {props.hourly ? \n                    <input type=\"date\"\n                        onChange={(e) => dateSelector(e.target.value)}\n                        value={date}\n                        min={props.min}\n                        max={props.max} />\n                 : null}\n            </Col>\n            </Row>\n            <Row className=\"justify-content-md-center\">{pageIndex ? paginationData(pageIndex, curPage, repopulateData, incrementPage) : null}</Row>\n            <Table striped bordered hover>\n                <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>Name</th>\n                        <th>Date</th>\n                        {props.hourly ? <th>Hour</th> : null}\n                        <th>Impressions</th>\n                        <th>Clicks</th>\n                        <th>Revenue</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {data ? data[curPage].map((x, index) => <tr key={index} className={x.poi_id === props.curPoi ? \"with-data\" : \"\"}>\n                        <td>{index+1}</td>\n                        <td>{x.name}</td>\n                        <td>{x.date}</td>\n                        {props.hourly ? <td>{x.hour}</td> : null}\n                        <td>{x.impressions}</td>\n                        <td>{x.clicks}</td>\n                        <td>{x.revenue?parseFloat(x.revenue).toFixed(2):null}</td>\n                    </tr>):null}\n                </tbody>\n            </Table>\n        </div>\n    )\n}\n","import React, { useState, useEffect } from 'react'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Container from 'react-bootstrap/Container'\nimport EventTable from './EventTable'\nimport StatTable from './StatTable'\nimport FormControl from 'react-bootstrap/FormControl'\nimport Fuse from 'fuse.js'\nimport Dropdown from 'react-bootstrap/Dropdown'\n\nfunction mappingHourlyData(data, key) {\n    return data.reduce(function (rv, x) {\n        (rv[x[key]] = rv[x[key]] || []).push(x);\n        return rv;\n    }, {})\n}\n\nconst options = {\n    isCaseSensitive: false,\n    includeScore: false,\n    shouldSort: true,\n    includeMatches: true,\n    findAllMatches: false,\n    minMatchCharLength: 1,\n    location: 0,\n    threshold: 0.6,\n    distance: 100,\n    useExtendedSearch: false,\n    ignoreLocation: false,\n    ignoreFieldNorm: false,\n    keys: [\n        \"name\"\n    ]\n};\n\nexport default function MainTable(props) {\n\n    const [poiData, setPoiData] = useState(null);\n    const [searchPattern, setSearchPattern] = useState('');\n    const [fuse, setFuse] = useState(new Fuse([], options));\n    const [searched, setSearched] = useState([]);\n\n    const [dailyEventCurPoi, setEventDailyPoi] = useState(null);\n    const [eventCurPoi, setEventCurPoi] = useState(null);\n\n    const [curPoi, setCurPoi] = useState(1);\n\n    const [dailyStatCurPoi, setStatDailyPoi] = useState(null);\n    const [statCurPoi, setStatCurPoi] = useState(null);\n\n    const [minday, setMinDay] = useState(null);\n    const [maxday, setMaxDay] = useState(null);\n    const [statminday, setstatMinDay] = useState(null);\n    const [statmaxday, setstatMaxDay] = useState(null);\n\n    const [reformattedEventHourly, setReformattedEventHourly] = useState(null);\n    const [reformattedStatHourly, setReformattedStatHourly] = useState(null);\n\n    const repopulateDateData = (key) => {\n        if (reformattedEventHourly[key]) setEventCurPoi(reformattedEventHourly[key])\n        else setEventCurPoi([])\n    }\n\n    const repopulateStatDateData = (key) => {\n        if (reformattedStatHourly[key]) setStatCurPoi(reformattedStatHourly[key])\n        else setStatCurPoi([])\n    }\n\n    const lookUp = (value) => {\n        setSearchPattern(value)\n        setSearched(fuse.search(value))\n    }\n\n    useEffect(() => {\n        if (props.poiData && props.poiData.length > 0) {\n            const temp = props.poiData;\n            setPoiData(temp); // Format: lat long\n            setFuse(new Fuse(temp, options));\n            setSearchPattern(temp[curPoi - 1].name)\n        }\n        if (props.eventHourly && props.eventHourly.length > 0) {\n            const temp = props.eventHourly;\n            const dataByDate = mappingHourlyData(temp, \"date\");\n            const listOfDate = Object.keys(dataByDate);\n            setReformattedEventHourly(dataByDate);\n            setEventCurPoi(dataByDate[listOfDate[0]]);\n            setMinDay(temp[0].date);\n            setMaxDay(temp[temp.length - 1].date);\n        }\n        if (props.statHourly && props.statHourly.length > 0) {\n            const temp = props.statHourly;\n            const dataByDate = mappingHourlyData(temp, \"date\");\n            const listOfDate = Object.keys(dataByDate);\n            setReformattedStatHourly(dataByDate);\n            setStatCurPoi(dataByDate[listOfDate[0]]);\n            setstatMinDay(temp[0].date);\n            setstatMaxDay(temp[temp.length - 1].date);\n        }\n        if (props.eventDaily && props.eventDaily.length > 0) {\n            setEventDailyPoi(props.eventDaily)\n        }\n        if (props.statDaily && props.statDaily.length > 0) {\n            setStatDailyPoi(props.statDaily)\n        }\n        //loadAPI();\n    }, [props.poiData, props.eventHourly, props.statHourly, props.eventDaily, props.statDaily,curPoi ]);\n\n    return (\n        <Container fluid>\n            <br />\n            <Col>\n                <Row>\n                    <Dropdown style={{ width: \"100%\" }}>\n                        <Dropdown.Toggle variant=\"primary\" style={{ width: \"100%\" }}>\n                            <FormControl\n                                placeholder=\"POI Location\"\n                                aria-label=\"Default\"\n                                aria-describedby=\"inputGroup-sizing-default\"\n                                value={searchPattern}\n                                onChange={(e) => lookUp(e.target.value)}\n                            />\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu style={{ width: \"100%\" }} >\n                            {searched.length > 0 ? searched.map(x => <Dropdown.Item className=\"results\" onSelect={() => setCurPoi(x.item.poi_id)}>{x.item.name}</Dropdown.Item>) :\n                                poiData ? poiData.map((x,index) => <Dropdown.Item key = {index} className=\"results\" onSelect={() => setCurPoi(x.poi_id)}>{x.name}</Dropdown.Item>) : null}\n                        </Dropdown.Menu>\n                    </Dropdown>\n                </Row>\n                <br />\n                <Row>\n                    {dailyEventCurPoi ? <EventTable data={dailyEventCurPoi} curPoi={curPoi} title={\"Daily events\"} /> : null}\n                </Row>\n                <br />\n                <Row>\n                    {eventCurPoi ? <EventTable data={eventCurPoi} min={minday} max={maxday} curPoi={curPoi} hourly repopulateRecall={repopulateDateData} title={\"Hourly events\"} /> : null}\n                </Row>\n                <br />\n                <Row>\n                    {dailyStatCurPoi ? <StatTable data={dailyStatCurPoi} curPoi={curPoi} title={\"Daily stats\"} /> : null}\n                </Row>\n                <br />\n                <Row>\n                    {statCurPoi ? <StatTable data={statCurPoi} min={statminday} max={statmaxday} curPoi={curPoi} hourly repopulateRecall={repopulateStatDateData} title={\"Hourly stats\"} /> : null}\n                </Row>\n            </Col>\n        </Container>\n    )\n}\n","import React, { useState } from 'react'\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\nexport default function AlertBootStrap(props) {\n    return (\n        <div>\n            <Alert variant=\"danger\" onClose={() => props.setShow(false)} dismissible>\n                <Alert.Heading>Oh snap! You got an error!</Alert.Heading>\n                <p>\n                    You are requesting data too many time, please try again later!\n                </p>\n            </Alert>\n        </div>\n    );\n}\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n// React bootstrap\nimport Container from 'react-bootstrap/Container'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\nimport Tab from 'react-bootstrap/Tab'\nimport Nav from 'react-bootstrap/Nav'\nimport { withRouter } from \"react-router\";\nimport Spinner from 'react-bootstrap/Spinner'\nimport Accordion from 'react-bootstrap/Accordion'\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n// Customed Bootstrap react components\nimport Charts from './charts/Charts'\nimport MapMain from './map/MapMain'\nimport MainTable from './tables/MainTable'\nimport AlertBootStrap from './AlertBootStrap'\n\n\nfunction Dash() {\n    const [poiData, setPoiData] = useState(null);\n    const [statDataHourly, setStatDataHourly] = useState(null);\n    const [statDataDaily, setStatDataDaily] = useState(null);\n    const [eventDataHourly, setEventDataHourly] = useState(null);\n    const [eventDataDaily, setEventDataDaily] = useState(null);\n\n    const [statDataHourlyTab, setStatDataHourlyTab] = useState(null);\n    const [statDataDailyTab, setStatDataDailyTab] = useState(null);\n    const [eventDataHourlyTab, setEventDataHourlyTab] = useState(null);\n    const [eventDataDailyTab, setEventDataDailyTab] = useState(null);\n    const [show, setShow] = useState(false)\n\n    const [selectedKey, setSelectedKey] = useState(\"first\");\n\n    const baseAPI = process.env.REACT_APP_MODE === 'dev' ? process.env.REACT_APP_API_DEV : process.env.REACT_APP_API_PROD\n\n    const loadAPI = () => {\n        try {\n            axios.get(`${baseAPI}poi`).then((res) => {\n                const temp = res.data;\n                setPoiData(temp); // Format: lat long\n            })\n        } catch (err) {\n            setShow(true)\n            console.error(err)\n        }\n        try {\n            axios.get(`${baseAPI}events/daily?loc=${false}`).then((res) => {\n                const temp = res.data;\n                setEventDataDaily(temp)\n            })\n        } catch (err) {\n            setShow(true)\n            console.error(err);\n        }\n        try {\n            axios.get(`${baseAPI}stats/daily?loc=${false}`).then((res) => {\n                const temp = res.data;\n                setStatDataDaily(temp);\n            })\n        } catch (err) {\n            setShow(true)\n            console.error(err);\n        }\n        try {\n            axios.get(`${baseAPI}events/hourly?loc=${false}`).then((res) => {\n                const temp = res.data;\n                setEventDataHourly(temp)\n\n            })\n        } catch (err) {\n            setShow(true)\n            console.error(err);\n        }\n        try {\n            axios.get(`${baseAPI}stats/hourly?loc=${false}`).then((res) => {\n                const temp = res.data;\n                setStatDataHourlyTab(temp)\n            })\n        } catch (err) {\n            setShow(true)\n            console.error(err)\n        }\n\n        try {\n            axios.get(`${baseAPI}events/daily?loc=${true}`).then((res) => {\n                const temp = res.data;\n                setEventDataDailyTab(temp)\n            })\n        } catch (err) {\n            setShow(true)\n            console.error(err);\n        }\n        try {\n            axios.get(`${baseAPI}stats/daily?loc=${true}`).then((res) => {\n                const temp = res.data;\n                setStatDataDailyTab(temp);\n            })\n        } catch (err) {\n            setShow(true)\n            console.error(err);\n        }\n        try {\n            axios.get(`${baseAPI}events/hourly?loc=${true}`).then((res) => {\n                const temp = res.data;\n                setEventDataHourlyTab(temp)\n\n            })\n        } catch (err) {\n            setShow(true)\n            console.error(err);\n        }\n        try {\n            axios.get(`${baseAPI}stats/hourly?loc=${true}`).then((res) => {\n                const temp = res.data;\n                setStatDataHourly(temp)\n            })\n        } catch (err) {\n            setShow(true)\n            console.error(err)\n            console.log(\"here\")\n        }\n    }\n\n    useEffect(() => {\n        loadAPI();\n    }, [])\n\n    return (\n        <Container fluid>\n            <Tab.Container id=\"left-tabs-example\" defaultActiveKey={selectedKey} onSelect={(skey) => setSelectedKey(skey)}>\n                <Row>\n                    <Col sm={12} md={3} lg={3} xl={2} className=\"side-bar fixed-side-bar\">\n                        <div>\n                            <h1>\n                                EQ Works\n                            </h1>\n                        </div>\n                        <hr />\n                        <Nav variant=\"pills\" className=\"flex-column\">\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"first\">\n                                    <Row>\n                                        <Col sm={2}>\n                                            <i className=\"fas fa-chart-pie\"></i>\n                                        </Col>\n                                        <Col>\n                                            <strong>Overview</strong>\n                                        </Col>\n                                    </Row>\n                                </Nav.Link>\n                            </Nav.Item>\n\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"second\">\n                                    <Row>\n                                        <Col sm={2}>\n                                            <i className=\"fas fa-table\"></i>\n                                        </Col>\n                                        <Col>\n                                            <strong>Tables</strong>\n                                        </Col>\n                                    </Row>\n                                </Nav.Link>\n\n                            </Nav.Item>\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"third\">\n                                    <Row>\n                                        <Col sm={2}>\n                                            <i className=\"fas fa-map-marked-alt\"></i>\n                                        </Col>\n                                        <Col>\n                                            <strong>Map</strong>\n                                        </Col>\n                                    </Row>\n                                </Nav.Link>\n\n                            </Nav.Item>\n                        </Nav>\n                    </Col>\n                    <Col sm={12} className=\"invisible-blk\">\n                        <br/>\n                        <Row>\n                            <Col xs={12} sm={12}><h1>EQ Works</h1></Col>\n                            <Col xs={12} sm={12}>\n                                <Nav justify variant=\"pills\" style={{width:\"100%\"}}>\n                                    <Nav.Item>\n                                        <Nav.Link eventKey=\"first\">\n                                            <Row>\n                                                <Col xs={12} sm={2}>\n                                                    <i className=\"fas fa-chart-pie\"></i>\n                                                </Col>\n                                                <Col xs={12} sm={10}>\n                                                    <strong>Overview</strong>\n                                                </Col>\n                                            </Row>\n                                        </Nav.Link>\n                                    </Nav.Item>\n\n                                    <Nav.Item>\n                                        <Nav.Link eventKey=\"second\">\n                                            <Row>\n                                                <Col xs={12} sm={2}>\n                                                    <i className=\"fas fa-table\"></i>\n                                                </Col>\n                                                <Col xs={12} sm={10}>\n                                                    <strong>Tables</strong>\n                                                </Col>\n                                            </Row>\n                                        </Nav.Link>\n\n                                    </Nav.Item>\n                                    <Nav.Item>\n                                        <Nav.Link eventKey=\"third\">\n                                            <Row>\n                                                <Col xs={12} sm={2}>\n                                                    <i className=\"fas fa-map-marked-alt\"></i>\n                                                </Col>\n                                                <Col xs={12} sm={10}>\n                                                    <strong>Map</strong>\n                                                </Col>\n                                            </Row>\n                                        </Nav.Link>\n\n                                    </Nav.Item>\n                                </Nav>\n                            </Col>\n                        </Row>\n\n                    </Col>\n                    <Col sm={12} md={9} lg={9} xl={10} className=\"tab-content-wrapper\">\n                        <Tab.Content>\n                            <Tab.Pane eventKey=\"first\">\n                                {!show && !poiData && !statDataDailyTab && !statDataHourlyTab && !eventDataDailyTab && !eventDataHourlyTab ?\n                                    <AlertBootStrap setShow={setShow} /> : null}\n                                {statDataDaily && statDataHourly && eventDataDaily && eventDataHourly ?\n                                    <Charts statDaily={statDataDaily}\n                                        statHourly={statDataHourly}\n                                        eventDaily={eventDataDaily}\n                                        eventHourly={eventDataHourly} /> : null}\n                            </Tab.Pane>\n                            <Tab.Pane eventKey=\"second\">\n                                {!show && !poiData && !statDataDailyTab && !statDataHourlyTab && !eventDataDailyTab && !eventDataHourlyTab ?\n                                    <AlertBootStrap setShow={setShow} /> : null}\n                                {poiData && statDataDailyTab && statDataHourlyTab && eventDataDailyTab && eventDataHourlyTab ?\n                                    <MainTable poiData={poiData} statDaily={statDataDailyTab}\n                                        statHourly={statDataHourlyTab}\n                                        eventDaily={eventDataDailyTab}\n                                        eventHourly={eventDataHourlyTab} /> : null}\n                            </Tab.Pane>\n                            <Tab.Pane eventKey=\"third\">\n                                {!show && !poiData && !statDataDailyTab && !statDataHourlyTab && !eventDataDailyTab && !eventDataHourlyTab ?\n                                    <AlertBootStrap setShow={setShow} /> : null}\n                                {poiData ? <MapMain poiData={poiData} /> : <Spinner animation=\"border\" variant=\"info\" />}\n                            </Tab.Pane>\n                        </Tab.Content>\n                    </Col>\n                </Row>\n            </Tab.Container>\n        </Container>\n    )\n}\n\nconst Home = withRouter(Dash);\nexport default Home\n","import './App.css';\nimport Home from './components/Home'\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path='/EQ-works-front-end-track' component={Home} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}